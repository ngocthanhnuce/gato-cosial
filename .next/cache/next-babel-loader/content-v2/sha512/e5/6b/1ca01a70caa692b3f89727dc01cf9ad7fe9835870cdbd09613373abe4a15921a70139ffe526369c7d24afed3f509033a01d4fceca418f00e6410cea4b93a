{"ast":null,"code":"import _regeneratorRuntime from \"E:/social_network/gato-cosial/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"E:/social_network/gato-cosial/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"E:\\\\social_network\\\\gato-cosial\\\\components\\\\Notifications\\\\FollowerNotification.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Feed, Button, Divider } from \"semantic-ui-react\";\nimport calculateTime from \"../../utils/calculateTime\";\nimport { followUser, unfollowUser } from \"../../utils/profileActions\";\n\nfunction FollowerNotification(_ref) {\n  _s();\n\n  var notification = _ref.notification,\n      loggedUserFollowStats = _ref.loggedUserFollowStats,\n      setUserFollowStats = _ref.setUserFollowStats;\n\n  var _useState = useState(false),\n      disabled = _useState[0],\n      setDisabled = _useState[1];\n\n  var isFollowing = loggedUserFollowStats.following.length > 0 && loggedUserFollowStats.following.filter(function (following) {\n    return following.user === notification.user._id;\n  }).length > 0;\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Feed.Event, {\n      children: [/*#__PURE__*/_jsxDEV(Feed.Label, {\n        image: notification.user.profilePicUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 22,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Feed.Content, {\n        children: [/*#__PURE__*/_jsxDEV(Feed.Summary, {\n          children: /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Feed.User, {\n              as: \"a\",\n              href: \"/\".concat(notification.user.username),\n              children: notification.user.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 26,\n              columnNumber: 15\n            }, this), \" \", \"\\u0111\\xE3 b\\u1EAFt \\u0111\\u1EA7u theo d\\xF5i b\\u1EA1n.\", /*#__PURE__*/_jsxDEV(Feed.Date, {\n              children: calculateTime(notification.date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 30,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            position: \"absolute\",\n            right: \"5px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            size: \"small\",\n            compact: true,\n            icon: isFollowing ? \"check circle\" : \"add user\",\n            color: isFollowing ? \"instagram\" : \"twitter\",\n            disabled: disabled,\n            onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n              return _regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      setDisabled(true);\n\n                      if (!isFollowing) {\n                        _context.next = 6;\n                        break;\n                      }\n\n                      _context.next = 4;\n                      return unfollowUser(notification.user._id, setUserFollowStats);\n\n                    case 4:\n                      _context.next = 8;\n                      break;\n\n                    case 6:\n                      _context.next = 8;\n                      return followUser(notification.user._id, setUserFollowStats);\n\n                    case 8:\n                      setDisabled(false);\n\n                    case 9:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee);\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(FollowerNotification, \"5W82NUQ3Xqz75UbGysMcuZnIguI=\");\n\n_c = FollowerNotification;\nexport default FollowerNotification;\n\nvar _c;\n\n$RefreshReg$(_c, \"FollowerNotification\");","map":{"version":3,"sources":["E:/social_network/gato-cosial/components/Notifications/FollowerNotification.js"],"names":["React","useState","Feed","Button","Divider","calculateTime","followUser","unfollowUser","FollowerNotification","notification","loggedUserFollowStats","setUserFollowStats","disabled","setDisabled","isFollowing","following","length","filter","user","_id","profilePicUrl","username","name","date","position","right"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,IAAT,EAAeC,MAAf,EAAuBC,OAAvB,QAAsC,mBAAtC;AACA,OAAOC,aAAP,MAA0B,2BAA1B;AACA,SAASC,UAAT,EAAqBC,YAArB,QAAyC,4BAAzC;;AAEA,SAASC,oBAAT,OAIG;AAAA;;AAAA,MAHDC,YAGC,QAHDA,YAGC;AAAA,MAFDC,qBAEC,QAFDA,qBAEC;AAAA,MADDC,kBACC,QADDA,kBACC;;AAAA,kBAC+BV,QAAQ,CAAC,KAAD,CADvC;AAAA,MACMW,QADN;AAAA,MACgBC,WADhB;;AAGD,MAAMC,WAAW,GACfJ,qBAAqB,CAACK,SAAtB,CAAgCC,MAAhC,GAAyC,CAAzC,IACAN,qBAAqB,CAACK,SAAtB,CAAgCE,MAAhC,CACE,UAAAF,SAAS;AAAA,WAAIA,SAAS,CAACG,IAAV,KAAmBT,YAAY,CAACS,IAAb,CAAkBC,GAAzC;AAAA,GADX,EAEEH,MAFF,GAEW,CAJb;AAMA,sBACE;AAAA,4BACE,QAAC,IAAD,CAAM,KAAN;AAAA,8BACE,QAAC,IAAD,CAAM,KAAN;AAAY,QAAA,KAAK,EAAEP,YAAY,CAACS,IAAb,CAAkBE;AAArC;AAAA;AAAA;AAAA;AAAA,cADF,eAEE,QAAC,IAAD,CAAM,OAAN;AAAA,gCACE,QAAC,IAAD,CAAM,OAAN;AAAA,iCACE;AAAA,oCACE,QAAC,IAAD,CAAM,IAAN;AAAW,cAAA,EAAE,EAAC,GAAd;AAAkB,cAAA,IAAI,aAAMX,YAAY,CAACS,IAAb,CAAkBG,QAAxB,CAAtB;AAAA,wBACGZ,YAAY,CAACS,IAAb,CAAkBI;AADrB;AAAA;AAAA;AAAA;AAAA,oBADF,EAGe,GAHf,0EAKE,QAAC,IAAD,CAAM,IAAN;AAAA,wBAAYjB,aAAa,CAACI,YAAY,CAACc,IAAd;AAAzB;AAAA;AAAA;AAAA;AAAA,oBALF;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBADF,eAWE;AAAK,UAAA,KAAK,EAAE;AAAEC,YAAAA,QAAQ,EAAE,UAAZ;AAAwBC,YAAAA,KAAK,EAAE;AAA/B,WAAZ;AAAA,iCACE,QAAC,MAAD;AACE,YAAA,IAAI,EAAC,OADP;AAEE,YAAA,OAAO,MAFT;AAGE,YAAA,IAAI,EAAEX,WAAW,GAAG,cAAH,GAAoB,UAHvC;AAIE,YAAA,KAAK,EAAEA,WAAW,GAAG,WAAH,GAAiB,SAJrC;AAKE,YAAA,QAAQ,EAAEF,QALZ;AAME,YAAA,OAAO,wEAAE;AAAA;AAAA;AAAA;AAAA;AACPC,sBAAAA,WAAW,CAAC,IAAD,CAAX;;AADO,2BAGPC,WAHO;AAAA;AAAA;AAAA;;AAAA;AAAA,6BAIGP,YAAY,CAACE,YAAY,CAACS,IAAb,CAAkBC,GAAnB,EAAwBR,kBAAxB,CAJf;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,6BAKGL,UAAU,CAACG,YAAY,CAACS,IAAb,CAAkBC,GAAnB,EAAwBR,kBAAxB,CALb;;AAAA;AAOPE,sBAAAA,WAAW,CAAC,KAAD,CAAX;;AAPO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAF;AANT;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAXF;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAkCE,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,YAlCF;AAAA,kBADF;AAsCD;;GAnDQL,oB;;KAAAA,oB;AAqDT,eAAeA,oBAAf","sourcesContent":["import React, { useState } from \"react\";\r\nimport { Feed, Button, Divider } from \"semantic-ui-react\";\r\nimport calculateTime from \"../../utils/calculateTime\";\r\nimport { followUser, unfollowUser } from \"../../utils/profileActions\";\r\n\r\nfunction FollowerNotification({\r\n  notification,\r\n  loggedUserFollowStats,\r\n  setUserFollowStats\r\n}) {\r\n  const [disabled, setDisabled] = useState(false);\r\n\r\n  const isFollowing =\r\n    loggedUserFollowStats.following.length > 0 &&\r\n    loggedUserFollowStats.following.filter(\r\n      following => following.user === notification.user._id\r\n    ).length > 0;\r\n\r\n  return (\r\n    <>\r\n      <Feed.Event>\r\n        <Feed.Label image={notification.user.profilePicUrl} />\r\n        <Feed.Content>\r\n          <Feed.Summary>\r\n            <>\r\n              <Feed.User as=\"a\" href={`/${notification.user.username}`}>\r\n                {notification.user.name}\r\n              </Feed.User>{\" \"}\r\n              đã bắt đầu theo dõi bạn.\r\n              <Feed.Date>{calculateTime(notification.date)}</Feed.Date>\r\n            </>\r\n          </Feed.Summary>\r\n\r\n          <div style={{ position: \"absolute\", right: \"5px\" }}>\r\n            <Button\r\n              size=\"small\"\r\n              compact\r\n              icon={isFollowing ? \"check circle\" : \"add user\"}\r\n              color={isFollowing ? \"instagram\" : \"twitter\"}\r\n              disabled={disabled}\r\n              onClick={async () => {\r\n                setDisabled(true);\r\n\r\n                isFollowing\r\n                  ? await unfollowUser(notification.user._id, setUserFollowStats)\r\n                  : await followUser(notification.user._id, setUserFollowStats);\r\n\r\n                setDisabled(false);\r\n              }}\r\n            />\r\n          </div>\r\n        </Feed.Content>\r\n      </Feed.Event>\r\n      <Divider />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default FollowerNotification;\r\n"]},"metadata":{},"sourceType":"module"}