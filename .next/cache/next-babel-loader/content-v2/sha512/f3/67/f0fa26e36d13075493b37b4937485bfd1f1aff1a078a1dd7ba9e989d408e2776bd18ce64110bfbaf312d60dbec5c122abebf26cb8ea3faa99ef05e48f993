{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"C:/Users/Admin/Documents/Gato-cocial/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"C:/Users/Admin/Documents/Gato-cocial/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"C:/Users/Admin/Documents/Gato-cocial/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Admin\\\\Documents\\\\Gato-cocial\\\\components\\\\Profile\\\\UpdateProfile.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useRef } from \"react\";\nimport { Form, Button, Message, Divider } from \"semantic-ui-react\";\nimport ImageDropDiv from \"../Common/ImageDropDiv\";\nimport uploadPic from \"../../utils/uploadPicToCloudinary\";\nimport { profileUpdate } from \"../../utils/profileActions\";\nimport CommonInputUpdate from \"../Common/CommonInputUpdate\";\n\nfunction UpdateProfile(_ref) {\n  _s();\n\n  var Profile = _ref.Profile;\n\n  var _useState = useState({\n    profilePicUrl: Profile.user.profilePicUrl,\n    bio: Profile.bio || \"\",\n    work: Profile.work || \"\",\n    relationship: Profile.relationship || \"\",\n    address: Profile.address || \"\",\n    education: Profile.education || \"\",\n    birthday: Profile.birthday || \"\",\n    facebook: Profile.social && Profile.social.facebook || \"\",\n    youtube: Profile.social && Profile.social.youtube || \"\",\n    instagram: Profile.social && Profile.social.instagram || \"\",\n    twitter: Profile.social && Profile.social.twitter || \"\"\n  }),\n      profile = _useState[0],\n      setProfile = _useState[1];\n\n  var _useState2 = useState(null),\n      errorMsg = _useState2[0],\n      setErrorMsg = _useState2[1];\n\n  var _useState3 = useState(false),\n      loading = _useState3[0],\n      setLoading = _useState3[1];\n\n  var _useState4 = useState(false),\n      showSocialLinks = _useState4[0],\n      setShowSocialLinks = _useState4[1];\n\n  var _useState5 = useState(false),\n      highlighted = _useState5[0],\n      setHighlighted = _useState5[1];\n\n  var inputRef = useRef();\n\n  var _useState6 = useState(null),\n      media = _useState6[0],\n      setMedia = _useState6[1];\n\n  var _useState7 = useState(null),\n      mediaPreview = _useState7[0],\n      setMediaPreview = _useState7[1];\n\n  var handleChange = function handleChange(e) {\n    var _e$target = e.target,\n        name = _e$target.name,\n        value = _e$target.value,\n        files = _e$target.files;\n\n    if (name === \"media\") {\n      setMedia(files[0]);\n      setMediaPreview(URL.createObjectURL(files[0]));\n    }\n\n    setProfile(function (prev) {\n      return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, name, value));\n    });\n  };\n\n  var handleShowProfile = function handleShowProfile(show) {\n    console.log(show);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      paddingBottom: \"25px\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Form, {\n      error: errorMsg !== null,\n      loading: loading,\n      onSubmit: /*#__PURE__*/function () {\n        var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n          var profilePicUrl;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  e.preventDefault();\n                  setLoading(true);\n\n                  if (!(media !== null)) {\n                    _context.next = 6;\n                    break;\n                  }\n\n                  _context.next = 5;\n                  return uploadPic(media);\n\n                case 5:\n                  profilePicUrl = _context.sent;\n\n                case 6:\n                  if (!(media !== null && !profilePicUrl)) {\n                    _context.next = 9;\n                    break;\n                  }\n\n                  setLoading(false);\n                  return _context.abrupt(\"return\", setErrorMsg(\"Error Uploading Image\"));\n\n                case 9:\n                  _context.next = 11;\n                  return profileUpdate(profile, setLoading, setErrorMsg, profilePicUrl);\n\n                case 11:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        }));\n\n        return function (_x) {\n          return _ref2.apply(this, arguments);\n        };\n      }(),\n      children: [/*#__PURE__*/_jsxDEV(Message, {\n        onDismiss: function onDismiss() {\n          return setErrorMsg(false);\n        },\n        error: true,\n        content: errorMsg,\n        attached: true,\n        header: \"Oops!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ImageDropDiv, {\n        inputRef: inputRef,\n        highlighted: highlighted,\n        setHighlighted: setHighlighted,\n        handleChange: handleChange,\n        mediaPreview: mediaPreview,\n        setMediaPreview: setMediaPreview,\n        setMedia: setMedia,\n        profilePicUrl: profile.profilePicUrl\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(CommonInputUpdate, {\n        user: profile,\n        handleChange: handleChange,\n        showSocialLinks: showSocialLinks,\n        setShowSocialLinks: setShowSocialLinks,\n        handleShowProfile: handleShowProfile\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        color: \"blue\",\n        icon: \"pencil alternate\",\n        disabled: profile.bio === \"\" || loading,\n        content: \"Submit\",\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UpdateProfile, \"4Fhop0dZx5ljUKuvTt7XYQ0JAHc=\");\n\n_c = UpdateProfile;\nexport default UpdateProfile;\n\nvar _c;\n\n$RefreshReg$(_c, \"UpdateProfile\");","map":{"version":3,"sources":["C:/Users/Admin/Documents/Gato-cocial/components/Profile/UpdateProfile.js"],"names":["React","useState","useRef","Form","Button","Message","Divider","ImageDropDiv","uploadPic","profileUpdate","CommonInputUpdate","UpdateProfile","Profile","profilePicUrl","user","bio","work","relationship","address","education","birthday","facebook","social","youtube","instagram","twitter","profile","setProfile","errorMsg","setErrorMsg","loading","setLoading","showSocialLinks","setShowSocialLinks","highlighted","setHighlighted","inputRef","media","setMedia","mediaPreview","setMediaPreview","handleChange","e","target","name","value","files","URL","createObjectURL","prev","handleShowProfile","show","console","log","paddingBottom","preventDefault"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from \"react\";\r\nimport { Form, Button, Message, Divider } from \"semantic-ui-react\";\r\nimport ImageDropDiv from \"../Common/ImageDropDiv\";\r\nimport uploadPic from \"../../utils/uploadPicToCloudinary\";\r\nimport { profileUpdate } from \"../../utils/profileActions\";\r\nimport CommonInputUpdate from \"../Common/CommonInputUpdate\";\r\n\r\nfunction UpdateProfile({ Profile }) {\r\n  const [profile, setProfile] = useState({\r\n    profilePicUrl: Profile.user.profilePicUrl,\r\n    bio: Profile.bio || \"\",\r\n    work: Profile.work || \"\",\r\n    relationship: Profile.relationship || \"\",\r\n    address: Profile.address || \"\",\r\n    education: Profile.education || \"\",\r\n    birthday: Profile.birthday || \"\",\r\n    facebook: (Profile.social && Profile.social.facebook) || \"\",\r\n    youtube: (Profile.social && Profile.social.youtube) || \"\",\r\n    instagram: (Profile.social && Profile.social.instagram) || \"\",\r\n    twitter: (Profile.social && Profile.social.twitter) || \"\",\r\n  });\r\n\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [showSocialLinks, setShowSocialLinks] = useState(false);\r\n\r\n  const [highlighted, setHighlighted] = useState(false);\r\n  const inputRef = useRef();\r\n  const [media, setMedia] = useState(null);\r\n  const [mediaPreview, setMediaPreview] = useState(null);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value, files } = e.target;\r\n\r\n    if (name === \"media\") {\r\n      setMedia(files[0]);\r\n      setMediaPreview(URL.createObjectURL(files[0]));\r\n    }\r\n    setProfile((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleShowProfile = (show) => {\r\n    console.log(show)\r\n  }\r\n\r\n  return (\r\n    <div style={{paddingBottom: \"25px\"}}>\r\n      <Form\r\n        error={errorMsg !== null}\r\n        loading={loading}\r\n        onSubmit={async (e) => {\r\n          e.preventDefault();\r\n          setLoading(true);\r\n\r\n          let profilePicUrl;\r\n\r\n          if (media !== null) {\r\n            profilePicUrl = await uploadPic(media);\r\n          }\r\n\r\n          if (media !== null && !profilePicUrl) {\r\n            setLoading(false);\r\n            return setErrorMsg(\"Error Uploading Image\");\r\n          }\r\n\r\n          await profileUpdate(profile, setLoading, setErrorMsg, profilePicUrl);\r\n        }}\r\n      >\r\n        <Message\r\n          onDismiss={() => setErrorMsg(false)}\r\n          error\r\n          content={errorMsg}\r\n          attached\r\n          header=\"Oops!\"\r\n        />\r\n\r\n        <ImageDropDiv\r\n          inputRef={inputRef}\r\n          highlighted={highlighted}\r\n          setHighlighted={setHighlighted}\r\n          handleChange={handleChange}\r\n          mediaPreview={mediaPreview}\r\n          setMediaPreview={setMediaPreview}\r\n          setMedia={setMedia}\r\n          profilePicUrl={profile.profilePicUrl}\r\n        />\r\n\r\n        <CommonInputUpdate\r\n          user={profile}\r\n          handleChange={handleChange}\r\n          showSocialLinks={showSocialLinks}\r\n          setShowSocialLinks={setShowSocialLinks}\r\n          handleShowProfile = {handleShowProfile}\r\n        />\r\n\r\n        <Divider hidden />\r\n\r\n        <Button\r\n          color=\"blue\"\r\n          icon=\"pencil alternate\"\r\n          disabled={profile.bio === \"\" || loading}\r\n          content=\"Submit\"\r\n          type=\"submit\"\r\n        />\r\n      </Form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UpdateProfile;\r\n"]},"metadata":{},"sourceType":"module"}